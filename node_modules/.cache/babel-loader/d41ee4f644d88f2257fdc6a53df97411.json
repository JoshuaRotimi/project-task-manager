{"ast":null,"code":"import{useEffect,useState}from\"react\";import{collection,getDocs}from\"firebase/firestore\";import{db}from\"../config/firestore\";export const useUserAndProject=()=>{const[projects,setProjects]=useState([]);const[users,setUsers]=useState([]);const getTaskDetails=async()=>{try{const querySnapshotUsers=await getDocs(collection(db,\"users\"));const querySnapshotProjects=await getDocs(collection(db,\"projects\"));const tasksAssignee=querySnapshotUsers.docs.map(doc=>\"\".concat(doc.data().firstName,\" \").concat(doc.data().lastName));const taskProjects=querySnapshotProjects.docs.map(doc=>doc.data().name);setUsers(tasksAssignee);setProjects(taskProjects);}catch(e){console.log(\"Data fetching failed.\");}};useEffect(()=>{getTaskDetails();},[]);return{users,projects};};","map":{"version":3,"names":["useEffect","useState","collection","getDocs","db","useUserAndProject","projects","setProjects","users","setUsers","getTaskDetails","querySnapshotUsers","querySnapshotProjects","tasksAssignee","docs","map","doc","concat","data","firstName","lastName","taskProjects","name","e","console","log"],"sources":["/Users/joshuaolorunnipa/Downloads/React Guide/firestore-react-crud-app-main/src/hooks/getUserAndProject.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"../config/firestore\";\n\nexport const useUserAndProject = () => {\n  const [projects, setProjects] = useState([]);\n  const [users, setUsers] = useState([]);\n\n  const getTaskDetails = async () => {\n    try {\n      const querySnapshotUsers = await getDocs(collection(db, \"users\"));\n      const querySnapshotProjects = await getDocs(collection(db, \"projects\"));\n      const tasksAssignee = querySnapshotUsers.docs.map(\n        (doc) => `${doc.data().firstName} ${doc.data().lastName}`\n      );\n\n      const taskProjects = querySnapshotProjects.docs.map(\n        (doc) => doc.data().name\n      );\n      setUsers(tasksAssignee);\n      setProjects(taskProjects);\n    } catch (e) {\n      console.log(\"Data fetching failed.\");\n    }\n  };\n\n  useEffect(() => {\n    getTaskDetails();\n  }, []);\n\n  return { users, projects };\n};\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,UAAU,CAAEC,OAAO,KAAQ,oBAAoB,CACxD,OAASC,EAAE,KAAQ,qBAAqB,CAExC,MAAO,MAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CACrC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGN,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACO,KAAK,CAAEC,QAAQ,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAS,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACF,KAAM,CAAAC,kBAAkB,CAAG,KAAM,CAAAR,OAAO,CAACD,UAAU,CAACE,EAAE,CAAE,OAAO,CAAC,CAAC,CACjE,KAAM,CAAAQ,qBAAqB,CAAG,KAAM,CAAAT,OAAO,CAACD,UAAU,CAACE,EAAE,CAAE,UAAU,CAAC,CAAC,CACvE,KAAM,CAAAS,aAAa,CAAGF,kBAAkB,CAACG,IAAI,CAACC,GAAG,CAC9CC,GAAG,KAAAC,MAAA,CAAQD,GAAG,CAACE,IAAI,CAAC,CAAC,CAACC,SAAS,MAAAF,MAAA,CAAID,GAAG,CAACE,IAAI,CAAC,CAAC,CAACE,QAAQ,CACzD,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGT,qBAAqB,CAACE,IAAI,CAACC,GAAG,CAChDC,GAAG,EAAKA,GAAG,CAACE,IAAI,CAAC,CAAC,CAACI,IACtB,CAAC,CACDb,QAAQ,CAACI,aAAa,CAAC,CACvBN,WAAW,CAACc,YAAY,CAAC,CAC3B,CAAE,MAAOE,CAAC,CAAE,CACVC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC,CACtC,CACF,CAAC,CAEDzB,SAAS,CAAC,IAAM,CACdU,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CAAEF,KAAK,CAAEF,QAAS,CAAC,CAC5B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}